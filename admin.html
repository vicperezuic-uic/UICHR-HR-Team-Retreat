<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UIC Quiz Admin</title>
<style>
body { font-family:"Segoe UI", Arial, sans-serif; background:#f2f2f2; margin:0; padding:0; }
header { display:flex; align-items:center; padding:10px 20px; background:#00274C; color:white; }
header img { height:50px; margin-right:15px; }
header h1 { font-weight: normal; font-size:1.5rem; margin:0; }
.container { max-width:1000px; margin:20px auto; background:white; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
input, button { padding:10px; font-size:14px; margin:5px 0; }
button { border:none; border-radius:5px; cursor:pointer; }
button.login { background:#FFC72C; color:#00274C; font-weight:bold; }
button.login:hover { background:#e6b800; }
table { width:100%; border-collapse: collapse; margin-top:20px; }
th, td { border:1px solid #ccc; padding:8px; text-align:center; }
th { background:#e6e6e6; }
button.reset { background:#FFC72C; color:#00274C; font-weight:bold; }
button.reset:hover { background:#e6b800; }
.section { margin-bottom:10px; border:1px solid #ccc; border-radius:5px; }
.section-header { background:#e6e6e6; padding:10px; font-weight:bold; cursor:pointer; }
.section-content { display:none; padding:10px; }
</style>
</head>
<body>

<header>
  <img src="uic_logo.jpg" alt="UIC Logo">
  <h1>Quiz Admin Dashboard</h1>
</header>

<div class="container">
<h2>Admin Login</h2>
<input type="email" id="adminEmail" placeholder="Admin Email">
<input type="password" id="adminPass" placeholder="Password">
<button class="login" onclick="login()">Login</button>

<div id="adminPanel" style="display:none;">
<h2>Submissions</h2>
<div id="submissionsContainer"></div>
</div>
</div>

<script>
const ADMIN_EMAIL = "vicperez@uic.edu";
const ADMIN_PASS = "Jujub1234!";

function login() {
    const email = document.getElementById("adminEmail").value.trim();
    const pass = document.getElementById("adminPass").value;
    if(email===ADMIN_EMAIL && pass===ADMIN_PASS){
        document.getElementById("adminPanel").style.display="block";
        loadSubmissions();
    } else {
        alert("Invalid admin credentials!");
    }
}

function loadSubmissions() {
    const submissions = JSON.parse(localStorage.getItem("submissions")||"{}");
    const container = document.getElementById("submissionsContainer");
    container.innerHTML="";
    Object.keys(submissions).forEach(email=>{
        const section = document.createElement("div");
        section.className="section";
        const header = document.createElement("div");
        header.className="section-header";
        header.innerText=email;
        header.onclick = ()=>{ 
            const content = section.querySelector(".section-content");
            content.style.display = content.style.display==="block"?"none":"block";
        };
        const content = document.createElement("div");
        content.className="section-content";
        content.innerHTML = `<p>Score: ${submissions[email].score}</p>
                             <button class="reset" onclick="resetUser('${email}')">Reset Submission</button>`;
        section.appendChild(header);
        section.appendChild(content);
        container.appendChild(section);
    });
}

function resetUser(email){
    const submissions = JSON.parse(localStorage.getItem("submissions")||"{}");
    delete submissions[email];
    localStorage.setItem("submissions", JSON.stringify(submissions));
    loadSubmissions();
    alert(`${email} has been reset and can retake the quiz.`);
}
</script>

</body>
</html>
