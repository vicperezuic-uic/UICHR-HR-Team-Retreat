<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>UIC Quiz Admin</title>
  <style>
    body {font-family: Arial, sans-serif; margin: 20px;}
    .hidden {display: none;}
    button {margin-top: 5px; padding: 5px 10px; background: #cc0000; color: white; border: none; border-radius: 6px;}
    button:hover {background: #990000;}
  </style>
</head>
<body>
  <h2>UIC Song Quiz - Admin</h2>

  <div id="login">
    <input type="email" id="adminEmail" placeholder="Admin Email"><br>
    <input type="password" id="adminPass" placeholder="Password"><br>
    <button onclick="adminLogin()">Login</button>
    <p id="loginError" style="color:red;"></p>
  </div>

  <div id="dashboard" class="hidden">
    <h3>Submissions</h3>
    <div id="submissionsList"></div>
  </div>

  <script>
    const ADMIN_EMAIL = "vicperez@uic.edu";
    const ADMIN_PASS = "Jujub1234!";

    function adminLogin() {
      const email = document.getElementById("adminEmail").value;
      const pass = document.getElementById("adminPass").value;
      if (email === ADMIN_EMAIL && pass === ADMIN_PASS) {
        document.getElementById("login").classList.add("hidden");
        document.getElementById("dashboard").classList.remove("hidden");
        renderSubmissions();
      } else {
        document.getElementById("loginError").textContent = "Invalid login.";
      }
    }

    function renderSubmissions() {
      const submissions = JSON.parse(localStorage.getItem("submissions") || "{}");
      const container = document.getElementById("submissionsList");
      container.innerHTML = "";
      for (const email in submissions) {
        const entry = submissions[email];
        const div = document.createElement("div");
        div.innerHTML = `
          <p><b>${email}</b> — Score: ${entry.score} — Submitted: ${entry.timestamp}</p>
          <button onclick="resetUser('${email}')">Reset Submission</button>
          <hr>
        `;
        container.appendChild(div);
      }
    }

    function resetUser(email) {
      const submissions = JSON.parse(localStorage.getItem("submissions") || "{}");
      delete submissions[email];
      localStorage.setItem("submissions", JSON.stringify(submissions));
      renderSubmissions();
    }
  </script>
</body>
</html>
